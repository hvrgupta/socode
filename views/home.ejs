<h1>SoCode | <%= title %></h1>

<section id="feed-posts">
        <h4>Posts</h4>
        <% if(locals.user) { %>
        <form action="/posts/create" id="new-post-form" method="POST">
            <textarea name="content" id="new-post-content" cols="30" rows="3" placeholder="Type here ..." required></textarea>
            <input type="submit" value="Post">
        </form>
        <% } %> 

        <div id="posts-list-container">
            <ul>
                <% for(post of posts) { %>
                    <!-- Global variables are passdown automatically to partials but local variablse needs to be passed -->
                    <!-- Like 'post' is passed down to _post.ejs -->
                    <!-- if let not used in for loop otherwise don't declare let -->
                    <%- include('_post') %>

                <% } %>
            </ul>
        </div>
</section>

<section id="user-friends">
    <h4>Friends</h4>
    <% for(user of all_users) { %>
        <p>
           <a href="/users/profile/<%= user.id %>"><%= user.name %></a> 
        </p>
    <% } %>
</section>

